@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================================================
   AI MAGELLAN DESIGN SYSTEM | 现代简约设计系统
   风格: Modern SaaS (Linear, Vercel, Stripe) - 简约、优雅、专业
   ======================================================================== */

/* ------------------------------------------------------------------------ */
/* 1. THEME VARIABLES | 主题变量定义
/* ------------------------------------------------------------------------ */
:root {
  /* === 核心品牌色 (Modern Purple) === */
  --nebula-primary: 262 80% 55%;          /* #8B5CF6 - 优雅紫 */
  --nebula-primary-hover: 262 85% 50%;    /* 悬停态 */
  --nebula-primary-light: 262 100% 98%;   /* 极浅背景 */

  /* === 辅助色 (Minimal Accents) === */
  --nebula-secondary: 270 50% 50%;        /* 辅助紫 */
  --nebula-cyan: 195 91% 60%;             /* 青色点缀 */

  /* === 功能状态色 (Functional) === */
  --nebula-success: 142 71% 45%;          /* #10B981 - 成功绿 */
  --nebula-warning: 38 92% 50%;           /* #F59E0B - 警告橙 */
  --nebula-error: 0 72% 51%;              /* #DC2626 - 错误红 */
  --nebula-neutral: 240 5% 26%;           /* 中性深灰 */

  /* === 中性色系统 (Minimal Grayscale) === */
  --neutral-50: 0 0% 98%;                 /* #FAFAFA */
  --neutral-100: 240 5% 96%;              /* #F5F5F6 */
  --neutral-200: 240 6% 90%;              /* #E4E4E7 */
  --neutral-300: 240 5% 84%;              /* #D4D4D8 */
  --neutral-500: 240 4% 46%;              /* #71717A */
  --neutral-800: 240 5% 26%;              /* #27272A */
  --neutral-900: 240 6% 10%;              /* #18181B */

  /* === Shadcn/Tailwind 语义映射 === */
  --background: 0 0% 100%;                /* 纯白背景 */
  --foreground: 240 6% 10%;

  --card: 0 0% 100%;
  --card-foreground: 240 6% 10%;
  --popover: 0 0% 100%;
  --popover-foreground: 240 6% 10%;

  --primary: var(--nebula-primary);
  --primary-foreground: 0 0% 100%;

  --secondary: 240 5% 96%;
  --secondary-foreground: 240 6% 10%;

  --muted: 240 5% 96%;
  --muted-foreground: 240 4% 46%;

  --accent: 240 5% 96%;
  --accent-foreground: 240 6% 10%;

  --destructive: var(--nebula-error);
  --destructive-foreground: 0 0% 100%;

  --border: 240 6% 90%;
  --input: 240 6% 90%;
  --ring: var(--nebula-primary);

  --success: var(--nebula-success);
  --success-foreground: 0 0% 100%;

  --warning: var(--nebula-warning);
  --warning-foreground: 0 0% 100%;

  /* === 设计规范 (Design Tokens) === */
  --radius: 8px;
  --radius-lg: 12px;
  --radius-sm: 6px;
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
}

/* === 暗色模式 (Modern Dark) === */
.dark {
  --background: 240 10% 4%;               /* 深邃纯净黑 */
  --foreground: 240 5% 96%;

  --card: 240 10% 8%;
  --card-foreground: 240 5% 96%;

  --popover: 240 10% 8%;
  --popover-foreground: 240 5% 96%;

  --primary: 262 80% 60%;                 /* 暗模式下稍亮 */
  --primary-foreground: 240 10% 4%;

  --secondary: 240 10% 15%;
  --secondary-foreground: 240 5% 96%;

  --muted: 240 10% 15%;
  --muted-foreground: 240 5% 65%;

  --accent: 240 10% 15%;
  --accent-foreground: 240 5% 96%;

  --border: 240 10% 18%;
  --input: 240 10% 18%;
  --ring: 262 80% 60%;
}

/* ------------------------------------------------------------------------ */
/* 2. BASE STYLES | 基础样式
/* ------------------------------------------------------------------------ */
@layer base {
  * {
    @apply border-border;
  }

  html {
    -webkit-tap-highlight-color: transparent;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* 标题优化 - 更简洁的字重 */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight text-foreground;
  }

  h1 { @apply text-3xl md:text-4xl lg:text-5xl; }
  h2 { @apply text-2xl md:text-3xl; }
  h3 { @apply text-xl md:text-2xl; }
}

/* ------------------------------------------------------------------------ */
/* 3. UTILITIES | 工具类
/* ------------------------------------------------------------------------ */
@layer utilities {

  /* === 主题色彩类 === */
  .text-nebula-primary   { color: hsl(var(--nebula-primary)); }
  .text-nebula-secondary { color: hsl(var(--nebula-secondary)); }
  .text-nebula-cyan      { color: hsl(var(--nebula-cyan)); }
  .text-nebula-success   { color: hsl(var(--nebula-success)); }
  .text-nebula-warning   { color: hsl(var(--nebula-warning)); }

  .bg-nebula-primary     { background-color: hsl(var(--nebula-primary)); }
  .bg-nebula-secondary   { background-color: hsl(var(--nebula-secondary)); }
  .bg-nebula-cyan        { background-color: hsl(var(--nebula-cyan)); }
  .bg-nebula-light       { background-color: hsl(var(--nebula-primary-light)); }

  .border-nebula-primary { border-color: hsl(var(--nebula-primary)); }

  /* === 核心组件 === */

  /* 1. 现代卡片 - 更简洁的悬停效果 */
  .nebula-card {
    @apply rounded-lg bg-card border border-border/60 overflow-hidden;
    @apply transition-all duration-200 ease-out;
    @apply hover:border-border hover:shadow-sm;
  }

  /* 2. 简约按钮 */
  .btn-modern {
    @apply relative overflow-hidden rounded-lg bg-primary px-4 py-2 text-sm font-medium text-white;
    @apply transition-all duration-200;
    @apply hover:bg-primary/90;
    @apply active:scale-[0.98];
  }

  /* 3. 标签 */
  .tag-pill {
    @apply inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium;
    @apply bg-secondary text-secondary-foreground;
    @apply transition-colors;
  }

  /* === 视觉效果 === */

  /* 渐变文字 */
  .text-gradient-purple {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-purple-400;
  }

  /* === 辅助类 === */

  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .hide-scrollbar::-webkit-scrollbar { display: none; }

  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* ========================================================================
     LEGACY SUPPORT | 向后兼容
     ======================================================================== */

  /* Ocean 主题映射 */
  .text-ocean-primary   { color: hsl(var(--nebula-primary)); }
  .bg-ocean-primary     { background-color: hsl(var(--nebula-primary)); }
  .border-ocean-primary { border-color: hsl(var(--nebula-primary)); }
  .text-ocean-accent    { color: hsl(var(--nebula-cyan)); }
  .bg-ocean-accent      { background-color: hsl(var(--nebula-cyan)); }
  .text-ocean-success   { color: hsl(var(--nebula-success)); }
  .bg-ocean-success     { background-color: hsl(var(--nebula-success)); }
  .text-ocean-warning   { color: hsl(var(--nebula-warning)); }
  .bg-ocean-warning     { background-color: hsl(var(--nebula-warning)); }
  .ocean-card { @apply nebula-card; }

  /* Magellan 主题映射 */
  .text-magellan-primary { color: hsl(var(--nebula-primary)); }
  .text-magellan-navy    { color: hsl(var(--nebula-neutral)); }
  .text-magellan-teal    { color: hsl(var(--nebula-cyan)); }
  .bg-magellan-primary   { background-color: hsl(var(--nebula-primary)); }
  .bg-magellan-teal      { background-color: hsl(var(--nebula-cyan)); }

  /* Atlassian 排版 */
  .text-atlassian-h3         { @apply text-lg font-semibold leading-tight; }
  .text-atlassian-h4         { @apply text-base font-medium leading-tight; }
  .text-atlassian-body       { @apply text-sm leading-relaxed; }
  .text-atlassian-body-large { @apply text-base leading-relaxed; }
  .text-atlassian-body-small { @apply text-xs leading-normal; }
}
